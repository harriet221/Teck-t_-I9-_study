# Web Server와 WAS

웹이란 인터넷에 연결된 컴퓨터를 통해 사람들이 정보를 공유할 수 있는 전세계적인 정보 공간을 말합니다. 웹 사용자는 브라우저로 요청을 보내 서버에서 정보를 받아오게 됩니다. 이때 받아오는 데이터는 두가지로 나눌 수 있습니다.

## 정적 콘텐츠(Static Content)

- 클라이언트의 요청을 받고 서버에 미리 저장된 HTML, CSS, JS 등의 파일을 그대로 응답해 보여주는 것을 말합니다.

- 모든 클라이언트의 요청에 대해 동일한 결과를 보여줍니다.

- 실시간으로 변경해줄 필요가 없는 데이터입니다

## 동적 콘텐츠(Dynamic Content)

- 어떤 클라이언트가 언제, 어디서, 어떻게 서버에 요청했는지에 따라 각기 다른 결과를 보여줍니다. 

<br>

<img src=https://assets.gcore.pro/blog_containerizing_prod/uploads/2023/11/static-vs-dynamic-content-3.png width="450"><br>

# Web Server와 WAS의 차이

웹 초기에는 정적 콘텐츠만 사용되었습니다. 동적 콘텐츠를 사용하기에는 서버의 성능이나 인터넷 속도가 따라주지 못했기 때문입니다. 하지만 컴퓨터와 네트워크의 성능이 발달함에 따라 동적 콘텐츠의 수요가 생기고 웹 서버와 WAS를 분리하기 시작했습니다.

## Web Server

<img src="https://i.imgur.com/mOLFbff.png" width="500">

웹 서버는 개념에 있어서 소프트웨어와 하드웨어로 구분됩니다.

### 웹 서버(소프트웨어)
- 브라우저 사용자로부터 HTTP 요청을 받고, HTML문서와 같은 웹페이지에서 흔히 찾아볼 수 있는 자료 콘텐츠에 따라 HTTP에 반응하는 컴퓨터 프로그램

### 웹 서버(하드웨어)
- 웹 서버의 소프트웨어를 저장하는 컴퓨터

- 인터넷에 연결되어 웹에 연결된 다른 기기들이 웹 서버의 데이터를 주고 받을 수 있도록 합니다.


## Web Server의 기능
Web Server는 HTTP 프로토콜을 기반으로 클라이언트의 요청을 서비스하는 기능을 담당합니다.

- 저장된 웹 리소스들 __(정적 콘텐츠)__ 를 클라이언트에게 전달하고, 클라이언트로부터 콘텐츠를 전달받아 저장하거나 처리

- 클라이언트로부터 동적인 요청이 들어왔을 때 해당 요청을 WAS에게 전달


## WAS (Web Application Server)

WAS란 웹 애플리케이션과 서버 환경을 만들어 동작시키는 기능을 제공하는 소프트웨어 프레임워크입니다. 인터넷상에서 HTTP를 통해 사용자 컴퓨터나 장치에 애플리케이션을 수행해주는 미들웨어(소프트웨어 엔진)으로 볼 수 있습니다.

<img src="https://i.imgur.com/BlfS3YG.png" width="500">

## WAS 의 기능

WAS 또한 Web Server와 동이하게 HTTP 기반으로 동작합니다. Web Server가 할 수 있는 기능 대부분이 WAS에서도 처리가 가능하며 주로 아래와 같은 기능들을 수행합니다.

- 프로그램 실행 환경과 DB 접속 기능

- 여러 개의 트랜잭션(논리적인 작업 단위) 관리 기능

- 비즈니스 로직 수행

### WAS 의 역할

WAS는 Web Server와 Web Container가 합쳐진 개념입니다. Web Server의 기능들을 구조적으로 분리하여 처리하고자하는 목적으로 제시되었습니다.

## Web Server와 WAS의 차이

### Web Server
- 정적인 데이터를 처리하는 서버입니다.

- 이미지나 단순 html 같은 정적인 리소스들을 전달하며 WAS만을 이용할 경우보다 빠르고 안정적인 기능 수행이 가능합니다

### WAS

- 동적인 데이터를 위주로 처리하는 서버입니다.

- DB와 연결되어 사용자와 데이터를 주고받는 조작이 필요한 경우 WAS를 활용합니다.

## Web Server와 WAS를 혼용하는 이유

- 기능을 분리하여 서버 부하 방지

    - WAS는 단순한 정적 콘텐츠를 Web Server에 맡기고 DB 조회나 다양한 로직을 처리만을 담당함으로써 처리속도 향상

- 물리적 분리를 통한 보안 강화

    - SSL에 대한 암복호화 처리에 Web Server를 사용

- 여러 대의 WAS를 연결 가능

    - WAS에 오류가 발생할 시 Web Server에서 해당 WAS와의 접속을 차단한 후 WAS를 재시작함으로써 사용자는 오류를 느끼지 못하고 이용이 가능

즉, 자원 이용의 효율성 및 장애 극복, 배포 및 유지보수의 편의성을 위해 Web Server와 WAS를 혼용합니다.

<sub>참고문헌 : https://gmlwjd9405.github.io/2018/10/27/webserver-vs-was.html, https://helloworld-88.tistory.com/71, https://code-lab1.tistory.com/199, https://story.pxd.co.kr/1647<sub>