## 자바의 컴파일 과정

개발자는 Eclipse 혹은 IntelliJ 같은 IDE(Integrated Development Environment)에서 .java 확장자를 가진 파일에 소스 코드를 작성한다. 소스 코드는 사람이 알아보기 쉽게 영어로 작성되어 있지만 기계는 이를 해석하지 못한다. 사람이 읽을 수 있는 고수준 언어를 기계가 읽을 수 있는 저수준 언어로 치환해주는 것을 컴파일 과정이라고 한다.

## 자바의 특징


자바는 OS 에 독립적인 특징을 가지고 있다. OS와 자바 사이에 JVM이라는 가상 머신이 중개자 역할을 하고 있기 때문이다. JVM을 통해 자바는 어느 OS 상에서도 컴파일 할 수 있다. 이를 WORN(Write Once Run Anywhere)이라고 표현한다.

## 컴파일 순서




### 1. 바이트코드 변환
* 자바에서 작성한 소스코드를 Java Compiler  자바 바이트코드(.class)로 컴파일

* 컴파일 된 바이트 코드를 JVM의 Class Loader에게 전달


### 2. 클래스 로더
- Class Loader는 동적로딩을 통해 필요한 클래스들을 로딩 및 링크하여 런타임 데이터 영역, 즉 JVM의 메모리에 올리며 아래의 과정을 거친다.

1. 로드 : 클래스 파일을 가져와 JVM의 메모리에 올린다
2. 검증 : 파일의 형식이 유효한지 검사한다
3. 준비 : 클래스가 필요로 하는 메모리를 할당한다
4. 분석 : 클래스의 상수 풀 내 모든 심복릭 레퍼런스를 다이렉트 레퍼런스로 교체한다
5. 초기화 : static 변수를 초기화하고 값을 할당한다

### 3. 실행 엔진
- 실행 엔진은 클래스 로더를 통해 런타임 데이터 영역에 배치된 바이트 코드를 명령어 단위로 읽어서 실행한다. 이때 실행 엔진은 두가지 방식으로 변경한다.
1. 인터프리터
- 자바가 OS에 독립적이고, 이식성이 높은 언어인 이유
- 각 플랫폼에 맞는 인터프리터가 바이트 코드를 실행하기 때문에 어느 OS에서든 실행될 수 있다.
- 바이트 코드를 읽고 기계어(저수준언어)로 변경하는 역할 수행
- 바이트 코드를 한줄씩 읽고 실행하기 때문에 속도가 느리다.
2. JIT(Just In Time) 컴파일러
- 인터프리터의 속도 문제를 해결하기 위해 디자인 된 기능
- 자주 실행되는 바이트 코드 영역을 런타임 중에 기계어로 컴파일하여 사용하며 수정이 있을 경우 수정된 부분만 새로 컴파일을 하는 형식
- 이미 컴파일이 완료된 실행 파일은 빠르게 실행할 수 있어 효율적
